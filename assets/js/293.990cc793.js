(window.webpackJsonp=window.webpackJsonp||[]).push([[293],{711:function(t,a,n){"use strict";n.r(a);var e=n(15),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"npm和yarn的对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm和yarn的对比"}},[t._v("#")]),t._v(" npm和yarn的对比")]),t._v(" "),n("h4",{attrs:{id:"npm的特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm的特点"}},[t._v("#")]),t._v(" npm的特点")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("npm install的时候很慢。特别是新的项目拉下来要等半天，删除node_modules，重新install的时候依旧如此。")])]),t._v(" "),n("li",[n("p",[t._v("同一个项目，安装的时候无法保持一致性。由于package.json文件中版本号的特点，下面三个版本号在安装的时候代表不同的含义")]),t._v(" "),n("ol",[n("li",[n("code",[t._v("5.0.3")]),t._v(" 安装指定的5.0.3版本")]),t._v(" "),n("li",[n("code",[t._v("~5.0.3")]),t._v(" 安装5.0.X中最新的版本")]),t._v(" "),n("li",[n("code",[t._v("^5.0.3")]),t._v(" 安装5.X.X中最新的版本")])])]),t._v(" "),n("li",[n("p",[t._v("npm 的输出信息比较冗长。在执行 npm install package 的时候，命令行里会不断地打印出所有被安装上的依赖。")])])]),t._v(" "),n("h4",{attrs:{id:"yarn的优点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yarn的优点"}},[t._v("#")]),t._v(" yarn的优点")]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[n("code",[t._v("速度快：")])])]),t._v(" "),n("p",[t._v("速度快主要来自以下两个方面：")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("npm和 yarn 在执行包的安装时，都会执行一系列任务。npm 是按照队列执行每个 package，必须要等到当前 package 安装完成之后，才能继续后面的安装。而yarn 是同步执行所有任务，提高了性能。")])]),t._v(" "),n("li",[n("p",[t._v("离线模式：如果之前已经安装过一个软件包，用yarn再次安装时之间从缓存中获取，就不用像npm那样再从网络下载了。")])])])]),t._v(" "),n("li",[n("p",[n("strong",[n("code",[t._v("安装版本统一：")])])]),t._v(" "),n("p",[t._v("为了防止拉取到不同的版本，Yarn 有一个锁定文件 (lock file) 记录了被确切安装上的模块的版本号。每次只要新增了一个模块，Yarn 就会创建（或更新）yarn.lock 这个文件。这么做就保证了，每一次拉取同一个项目依赖时，使用的都是一样的模块版本。npm 其实也有办法实现处处使用相同版本的 packages，但需要开发者执行 npm shrinkwrap 命令。这个命令将会生成一个锁定文件，在执行 npm install 的时候，该锁定文件会先被读取，和 Yarn 读取 yarn.lock 文件一个道理。npm 和 Yarn 两者的不同之处在于，Yarn 默认会生成这样的锁定文件，而 npm 要通过 shrinkwrap 命令生成 npm-shrinkwrap.json 文件，只有当这个文件存在的时候，packages 版本信息才会被记录和更新。")])]),t._v(" "),n("li",[n("p",[n("strong",[n("code",[t._v("更简洁的输出：")])])]),t._v(" "),n("p",[t._v("npm 的输出信息比较冗长。在执行 npm install 的时候，命令行里会不断地打印出所有被安装上的依赖。相比之下，yarn 简洁太多：默认情况下，结合了 emoji直观且直接地打印出必要的信息，也提供了一些命令供开发者查询额外的安装信息。")])]),t._v(" "),n("li",[n("p",[n("strong",[n("code",[t._v("多注册来源处理：")])])]),t._v(" "),n("p",[t._v("所有的依赖包，不管他被不同的库间接关联引用多少次，安装这个包时，只会从一个注册来源去装，要么是 npm 要么是 bower, 防止出现混乱不一致。")])]),t._v(" "),n("li",[n("p",[n("strong",[n("code",[t._v("更好的语义化：")])])]),t._v(" "),n("p",[t._v("yarn改变了一些npm命令的名称，比如 yarn add/remove，感觉上比 npm 原本的 install/uninstall 要更清晰。")])])]),t._v(" "),n("h4",{attrs:{id:"npm和yarn命令对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm和yarn命令对比"}},[t._v("#")]),t._v(" npm和yarn命令对比")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("npm")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("yarn")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("npm install")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("yarn")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("npm install react --save")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("yarn add react")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("npm uninstall react --save")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("yarn remove react")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("npm install react --save-dev")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("yarn add react --dev")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("npm update --save")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("yarn upgrade")])])])]),t._v(" "),n("h4",{attrs:{id:"参考文章链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文章链接"}},[t._v("#")]),t._v(" 参考文章链接")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://segmentfault.com/a/1190000039684460",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm/yarn lock真香"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/384484213",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试官：听说你对package.json很熟？"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://www.jianshu.com/p/254794d5e741",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm和yarn的区别，我们该如何选择?"),n("OutboundLink")],1),n("br"),t._v(" "),n("a",{attrs:{href:"https://www.cnblogs.com/lasn/p/12446822.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("yarn和npm的对比"),n("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);