(window.webpackJsonp=window.webpackJsonp||[]).push([[566],{984:function(_,t,v){"use strict";v.r(t);var a=v(15),e=Object(a.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h2",{attrs:{id:"一、是什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、是什么"}},[_._v("#")]),_._v(" 一、是什么")]),_._v(" "),v("p",[_._v("DNS（Domain Names System），域名系统，是互联网一项服务，是进行域名和与之相对应的 IP 地址进行转换的服务器简单来讲，"),v("code",[_._v("DNS")]),_._v("相当于一个翻译官，负责将域名翻译成"),v("code",[_._v("ip")]),_._v("地址")]),_._v(" "),v("ul",[v("li",[_._v("IP 地址：一长串能够唯一地标记网络上的计算机的数字")]),_._v(" "),v("li",[_._v("域名：是由一串用点分隔的名字组成的 Internet 上某一台计算机或计算机组的名称，用于在数据传输时对计算机的定位标识")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/images/098.png",alt:"image"}})]),_._v(" "),v("h2",{attrs:{id:"二、域名"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、域名"}},[_._v("#")]),_._v(" 二、域名")]),_._v(" "),v("p",[_._v("域名是一个具有层次的结构，从上到下依次为根域名、顶级域名、二级域名、三级域名...")]),_._v(" "),v("p",[v("img",{attrs:{src:"/images/099.png",alt:"image"}})]),_._v(" "),v("p",[_._v("例如"),v("code",[_._v("www.xxx.com")]),_._v("，"),v("code",[_._v("www")]),_._v("为三级域名、"),v("code",[_._v("xxx")]),_._v("为二级域名、"),v("code",[_._v("com")]),_._v("为顶级域名，系统为用户做了兼容，域名末尾的根域名"),v("code",[_._v(".")]),_._v("一般不需要输入在域名的每一层都会有一个域名服务器，如下图：")]),_._v(" "),v("p",[v("img",{attrs:{src:"/images/100.png",alt:"image"}})]),_._v(" "),v("p",[_._v("除此之外，还有电脑默认的本地域名服务器")]),_._v(" "),v("h2",{attrs:{id:"三、查询方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、查询方式"}},[_._v("#")]),_._v(" 三、查询方式")]),_._v(" "),v("p",[_._v("DNS 查询的方式有两种：")]),_._v(" "),v("ul",[v("li",[_._v("递归查询：如果 A 请求 B，那么 B 作为请求的接收者一定要给 A 想要的答案")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/images/101.png",alt:"image"}})]),_._v(" "),v("ul",[v("li",[_._v("迭代查询：如果接收者 B 没有请求者 A 所需要的准确内容，接收者 B 将告诉请求者 A，如何去获得这个内容，但是自己并不去发出请求")])]),_._v(" "),v("p",[v("img",{attrs:{src:"/images/102.png",alt:"image"}})]),_._v(" "),v("h2",{attrs:{id:"四、域名缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四、域名缓存"}},[_._v("#")]),_._v(" 四、域名缓存")]),_._v(" "),v("p",[_._v("在域名服务器解析的时候，使用缓存保存域名和"),v("code",[_._v("IP")]),_._v("地址的映射计算机中"),v("code",[_._v("DNS")]),_._v("的记录也分成了两种缓存方式：")]),_._v(" "),v("ul",[v("li",[_._v("浏览器缓存：浏览器在获取网站域名的实际 IP 地址后会对其进行缓存，减少网络请求的损耗")]),_._v(" "),v("li",[_._v("操作系统缓存：操作系统的缓存其实是用户自己配置的 "),v("code",[_._v("hosts")]),_._v(" 文件")])]),_._v(" "),v("h2",{attrs:{id:"五、查询过程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#五、查询过程"}},[_._v("#")]),_._v(" 五、查询过程")]),_._v(" "),v("p",[_._v("解析域名的过程如下：")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("首先搜索浏览器的 DNS 缓存，缓存中维护一张域名与 IP 地址的对应表")])]),_._v(" "),v("li",[v("p",[_._v("若没有命中，则继续搜索操作系统的 DNS 缓存")])]),_._v(" "),v("li",[v("p",[_._v("若仍然没有命中，则操作系统将域名发送至本地域名服务器，本地域名服务器采用递归查询自己的 DNS 缓存，查找成功则返回结果")])]),_._v(" "),v("li",[v("p",[_._v("若本地域名服务器的 DNS 缓存没有命中，则本地域名服务器向上级域名服务器进行迭代查询")]),_._v(" "),v("ul",[v("li",[_._v("首先本地域名服务器向根域名服务器发起请求，根域名服务器返回顶级域名服务器的地址给本地服务器")]),_._v(" "),v("li",[_._v("本地域名服务器拿到这个顶级域名服务器的地址后，就向其发起请求，获取权限域名服务器的地址")]),_._v(" "),v("li",[_._v("本地域名服务器根据权限域名服务器的地址向其发起请求，最终得到该域名对应的 IP 地址")])])]),_._v(" "),v("li",[v("p",[_._v("本地域名服务器将得到的 IP 地址返回给操作系统，同时自己将 IP 地址缓存起来")])]),_._v(" "),v("li",[v("p",[_._v("操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起")])]),_._v(" "),v("li",[v("p",[_._v("至此，浏览器就得到了域名对应的 IP 地址，并将 IP 地址缓存起")])])]),_._v(" "),v("p",[_._v("流程如下图所示：")]),_._v(" "),v("p",[v("img",{attrs:{src:"/images/103.png",alt:"image"}})]),_._v(" "),v("h4",{attrs:{id:"参考文章链接"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考文章链接"}},[_._v("#")]),_._v(" 参考文章链接")]),_._v(" "),v("p",[v("a",{attrs:{href:"https://segmentfault.com/a/1190000039039275",target:"_blank",rel:"noopener noreferrer"}},[_._v("超详细 DNS 协议解析"),v("OutboundLink")],1),v("br"),_._v(" "),v("a",{attrs:{href:"https://www.cnblogs.com/jmilkfan-fanguiju/p/12789677.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("DNS 域名系统"),v("OutboundLink")],1),v("br"),_._v(" "),v("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzU1OTgxNDQ1Nw==&mid=2247487550&idx=2&sn=97dc4d681907edae054b0842c07aaf6e&chksm=fc10d268cb675b7e2d269b684cb3395b61d8bc2bac377734e50b43d55e7323a57fbfd889bbf3#rd",target:"_blank",rel:"noopener noreferrer"}},[_._v("面试官：DNS 协议是什么？说说 DNS 完整的查询过程?"),v("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);