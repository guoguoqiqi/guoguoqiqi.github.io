(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{697:function(e,r,t){"use strict";t.r(r);var o=t(15),n=Object(o.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h3",{attrs:{id:"proxy相对于object-defineproperty的优势"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#proxy相对于object-defineproperty的优势"}},[e._v("#")]),e._v(" proxy相对于Object.defineProperty的优势")]),e._v(" "),t("blockquote",[t("p",[e._v("vue2中实现响应式使用的是Object.defineProperty方法，Vue3中改为proxy，后者优势很多，但是兼容性差一些")])]),e._v(" "),t("h4",{attrs:{id:"_1-object-defineproperty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-object-defineproperty"}},[e._v("#")]),e._v(" 1. Object.defineProperty")]),e._v(" "),t("ul",[t("li",[e._v("无法监听到对象增加或删除属性")]),e._v(" "),t("li",[e._v("无法直接监听到数组的变化")]),e._v(" "),t("li",[e._v("需要深度递归对象，存在性能问题")]),e._v(" "),t("li",[e._v("返回原对象")])]),e._v(" "),t("h4",{attrs:{id:"_2-proxy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-proxy"}},[e._v("#")]),e._v(" 2. proxy")]),e._v(" "),t("ul",[t("li",[e._v("可以监听到对象增加或删除属性")]),e._v(" "),t("li",[e._v("可以直接监听到数组的变化")]),e._v(" "),t("li",[e._v("劫持操作多 13种")]),e._v(" "),t("li",[e._v("性能更好，无需一开始就遍历对象所有属性，访问某一属性的时候才会去处理下级属性")]),e._v(" "),t("li",[e._v("返回新对象")])]),e._v(" "),t("p",[e._v("之所以如此，是因为本质上Object.defineProperty方法是监听对象上 "),t("strong",[t("code",[e._v("已经有的每个属性")])]),e._v("，然后通过set，get方法对属性的变化做出响应，而proxy是对 "),t("strong",[t("code",[e._v("整个对象")])]),e._v(" 进行监听，因此对象的任何变化都可以捕捉到，然后做出响应。")]),e._v(" "),t("p",[e._v("虽然proxy在实现响应式方面优势明显，但是兼容性不好，这也是Vue3无法兼容IE11的本质所在")]),e._v(" "),t("blockquote",[t("p",[e._v("由于 ES5 的限制，Proxy 语法无法用 ES5 写出来（Proxies cannot be transpiled or polyfilled）")])]),e._v(" "),t("h4",{attrs:{id:"参考文章链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章链接"}},[e._v("#")]),e._v(" 参考文章链接")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.cn/post/6844904191240962061",target:"_blank",rel:"noopener noreferrer"}},[e._v("proxy 的优势与使用场景"),t("OutboundLink")],1),t("br"),e._v(" "),t("a",{attrs:{href:"https://juejin.cn/post/7032260570866941959",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue3 不支持 IE11的本质"),t("OutboundLink")],1),t("br"),e._v(" "),t("a",{attrs:{href:"https://juejin.cn/post/6861725116389130254",target:"_blank",rel:"noopener noreferrer"}},[e._v("学习Vue3.0,先来了解一下Proxy"),t("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=n.exports}}]);